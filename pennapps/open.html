<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>Ambit</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
	<link rel="stylesheet" href="/resources/tutorial/css/example.css"/>
	<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Ruda" rel="stylesheet" type="text/css">
</head>
<body ng-controller="MyController">
	<div class="example-chat l-demo-container">
		<h1 class="center_div">Ambit</h1>
		<h4 class="center_second_title">A combination of Yik Yak and Omegle</h4>
		<div class="username">
			<div class="centered_username">
				<p class="nameInput">Username: </p>
				<input ng-model="name"  ng-keydown="addUser($event)" type="text" id="nameInput" placeholder="Enter a Username..." class="username_text_box">
			</div>
		</div>
		<div class="developed_by">
			<p>Developed by Sagar Garg, Tim Lupo, Joseph Goodman, and Kaushik Mahadevan at PennApps XII Fall 2015</p>
		</div>
	</div>

	<script>
	var myApp = angular.module("myApp", ["firebase"]);

	myApp.controller("MyController", ["$scope", "$firebaseArray",
		function($scope, $firebaseArray) {
			//CREATE A FIREBASE REFERENCE
			var ref_users = new Firebase("https://ambit.firebaseio.com/users");

			$scope.users = $firebaseArray(ref_users);

			$scope.addUser = function(e) {
				if (e.keyCode === 13) {
					var name = $scope.name || "Anonymous";
					$scope.users.$add({
						sender: name
					});
					window.location="index.html?user="+name;
				}
			}
		}
	]);
	</script>

</body>
</html>